# KiCad Tools

This directory contains scripts related to [KiCad](www.kicad.org) PCB import to [OpenPnP](www.openpnp.org).

## kicad-to-openpnp-standalone.py

This script will read a [KiCad](www.kicad.org) PCB file generated by PCBNew to create
an [OpenPnP](www.openpnp.org) board.xml file and optionally generate parts and
packages definitions.

### Usage

The minimal command line to use is: `python3 ./kicad-to-openpnp-standalone.py --board foo.kicad_pcb --board_xml foo.board.xml`.
This instructs the utility to load `foo.kicad_pcb` and generate `foo.board.xml`, note that it will also
modify the [OpenPnP](www.openpnp.org) parts and packages definitions.

> **Note**
> OpenPnP should *NOT* be running when using this utility. If OpenPnP is running parts and package definitions may not preserved.

Complete usage is below:
```
usage: kicad-to-openpnp-standalone.py [-h] --board BOARD --board_xml BOARD_XML [--packages PACKAGES] [--parts PARTS] [--use_mixedcase] [--use_value_for_part_id] [--nozzle NOZZLE] [--ignore_top] [--ignore_bottom] [--read_only]

optional arguments:
  -h, --help            show this help message and exit
  --board BOARD         KiCad PCB to parse, foo.kicad_pcb
  --board_xml BOARD_XML
                        OpenPnP board.xml to generate
  --packages PACKAGES   Location of packages.xml
  --parts PARTS         Location of parts.xml
  --use_mixedcase       Enabling this option will generate package names and part names using the values as-is from the PCB. When not enabled all names will be forced to upper case.
  --use_value_for_part_id
                        Enabling this option will use component Value from the KiCad PCB footprint as the OpenPnP part ID
  --nozzle NOZZLE       Default nozzle(s) to assign as compatible, can be specified more than once
  --ignore_top          Exclude pads on the F_Cu (top) layer
  --ignore_bottom       Exclude pads on the B_Cu (bottom) layer
  --read_only           Enable this option to disable updating any OpenPnP files, board.xml will still be generated.
```
